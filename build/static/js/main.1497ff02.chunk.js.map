{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/PersonRecord.js","components/NumbersList.js","services/PhoneBookService.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","newName","number","handleNameChange","handleNumberChange","handleAddClick","value","onChange","type","onClick","Filter","filter","handleFilterChange","PersonRecord","person","handlePersonDelete","name","NumbersList","personsToShow","map","p","key","id","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","isError","className","App","useState","persons","setPersons","setNewName","setNumber","setFilter","notification","setNotification","setIsError","useEffect","PhoneBookService","createNotification","isSuccessful","setTimeout","toLowerCase","includes","event","target","preventDefault","trim","existingPerson","find","window","confirm","catch","error","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1497ff02.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  newName,\r\n  number,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  handleAddClick,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h3>add new</h3>\r\n      <form>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={number} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" onClick={handleAddClick}>\r\n            add\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with: <input value={filter} onChange={handleFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonRecord = ({ person, handlePersonDelete }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}\r\n      <button onClick={() => handlePersonDelete(person)}>delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonRecord;\r\n","import React from \"react\";\r\nimport PersonRecord from \"./PersonRecord\";\r\n\r\nconst NumbersList = ({ personsToShow, handlePersonDelete }) => {\r\n  return (\r\n    <div>\r\n      <h3>Numbers</h3>\r\n      <div>\r\n        {personsToShow.map((p) => (\r\n          <PersonRecord\r\n            key={p.id}\r\n            person={p}\r\n            handlePersonDelete={handlePersonDelete}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NumbersList;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, remove, update };\r\n","import React from \"react\";\r\nimport \"../index.css\";\r\n\r\nconst Notification = ({ message, isError }) => {\r\n  return (\r\n    message && (\r\n      <div className={`notification ${isError ? \"error\" : \"success\"}`}>\r\n        {message}\r\n      </div>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Filter from \"./components/Filter\";\r\nimport NumbersList from \"./components/NumbersList\";\r\nimport PhoneBookService from \"./services/PhoneBookService\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"new name\");\r\n  const [number, setNumber] = useState(\"\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [notification, setNotification] = useState(\"\");\r\n  const [isError, setIsError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    PhoneBookService.getAll().then((data) => setPersons(data));\r\n  }, []);\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNumber(event.target.value);\r\n  };\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  const createNotification = (isSuccessful, notification) => {\r\n    setIsError(!isSuccessful);\r\n    setNotification(notification);\r\n    setTimeout(() => {\r\n      setNotification(null);\r\n    }, 5000);\r\n  };\r\n\r\n  const clearInputForm = () => {\r\n    setNewName(\"\");\r\n    setNumber(\"\");\r\n  };\r\n\r\n  const handleAddClick = (event) => {\r\n    event.preventDefault();\r\n\r\n    const person = {\r\n      name: newName.trim(),\r\n      number: number,\r\n    };\r\n\r\n    const existingPerson = persons.find(\r\n      (p) => p.name.toLowerCase().trim() === newName.toLowerCase().trim()\r\n    );\r\n\r\n    if (existingPerson) {\r\n      const shouldUpdate = window.confirm(\r\n        `${person.name} is already added to phone book, replace the old number with a new one?`\r\n      );\r\n      if (shouldUpdate) {\r\n        PhoneBookService.update(existingPerson.id, {\r\n          ...existingPerson,\r\n          number,\r\n        })\r\n          .then((data) => {\r\n            setPersons(\r\n              persons.map((p) => (p.id === existingPerson.id ? data : p))\r\n            );\r\n            createNotification(true, `${data.name} number has been updated.`);\r\n          })\r\n          .catch((error) => {\r\n            setPersons(persons.filter((p) => p.id !== existingPerson.id));\r\n            createNotification(\r\n              false,\r\n              `${person.name} has already been deleted from server.`\r\n            );\r\n          });\r\n      }\r\n    } else {\r\n      PhoneBookService.create(person).then((data) => {\r\n        setPersons(persons.concat(data));\r\n        createNotification(true, `${data.name} has been added!`);\r\n      });\r\n    }\r\n\r\n    clearInputForm();\r\n  };\r\n\r\n  const handlePersonDelete = (person) => {\r\n    const shouldDelete = window.confirm(`Delete ${person.name}?`);\r\n\r\n    if (shouldDelete) {\r\n      PhoneBookService.remove(person.id).catch((error) =>\r\n        console.log(\"already deleted from server.\")\r\n      );\r\n      setPersons(persons.filter((p) => p.id !== person.id));\r\n      createNotification(true, `${person.name} has been deleted!`);\r\n    }\r\n  };\r\n\r\n  const personsToShow =\r\n    filter === \"\"\r\n      ? persons\r\n      : persons.filter((p) =>\r\n          p.name.toLowerCase().includes(filter.toLowerCase())\r\n        );\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} isError={isError} />\r\n      <Filter value={filter} handleFilterChange={handleFilterChange} />\r\n      <PersonForm\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        number={number}\r\n        handleNumberChange={handleNumberChange}\r\n        handleAddClick={handleAddClick}\r\n      />\r\n      <NumbersList\r\n        personsToShow={personsToShow}\r\n        handlePersonDelete={handlePersonDelete}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}